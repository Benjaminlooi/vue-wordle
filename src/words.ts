const defaultMessage = " Using word of the day instead.";

export function getWordOfTheDay() {
  if (location.search) {
    try {
      const query = atob(location.search.slice(1));
      if (query.length !== 11) {
        alert(`Incorrect word length from encoded query. ${defaultMessage}`);
      } else {
        return query;
      }
    } catch (e) {
      alert(`Malformed encoded word query. ${defaultMessage}`);
    }
  }

  const now = new Date();
  const start = new Date(2022, 0, 0);
  const diff = Number(now) - Number(start);
  let day = Math.floor(diff / (1000 * 60 * 60 * 24));
  while (day > answers.length) {
    day -= answers.length;
  }
  return answers[day];
}

// copied from Wordle source
const answers = [
  "undemanding",
  "information",
  "preposition",
  "abomination",
  "personality",
  "subtraction",
  "quadrillion",
  "syllabicate",
  "alternative",
  "celebration",
  "cleanliness",
  "anniversary",
  "forgiveness",
  "belligerent",
  "imagination",
  "serendipity",
  "segregation",
  "inspiration",
  "marshmallow",
  "electricity",
  "caterpillar",
  "abiogenesis",
  "intelligent",
  "Shakespeare",
  "environment",
  "destination",
  "Christopher",
  "advertising",
  "excoriation",
  "unstoppable",
  "appreciated",
  "quintillion",
  "invigilator",
  "exterminate",
  "photography",
  "responsible",
  "collocation",
  "accessories",
  "complicated",
  "agriculture",
  "perambulate",
  "demarcation",
  "barbiturate",
  "rebarbative",
  "certificate",
  "worldliness",
  "colonoscopy",
  "androgynous",
  "ablactation",
  "nothingness",
  "everlasting",
  "communicate",
  "defloration",
  "retribution",
  "cheerleader",
  "achievement",
  "abracadabra",
  "application",
  "counterfeit",
  "Constantine",
  "californium",
  "evaporation",
  "perspective",
  "amphetamine",
  "cooperation",
  "reservation",
  "mathematics",
  "metamorphic",
  "remembering",
  "independent",
  "prognathous",
  "Philippines",
  "spectacular",
  "infatuation",
  "ingredients",
  "abandonment",
  "emotionless",
  "captivating",
  "convolution",
  "Connecticut",
  "consequence",
  "Abecedarian",
  "appraisable",
  "pollination",
  "measurement",
  "association",
  "Switzerland",
  "commutative",
  "affirmation",
  "hospitality",
  "magnificent",
  "susurration",
  "Mesopotamia",
  "rapscallion",
  "amaranthine",
  "translation",
  "temperature",
  "chlorophyll",
  "pomegranate",
  "grasshopper",
  "promiscuous",
  "respiration",
  "radioactive",
  "counterpart",
  "awesomeness",
  "handwriting",
  "encouraging",
  "Montesquieu",
  "extrication",
  "reciprocate",
  "Afghanistan",
  "contraption",
  "imperialism",
  "elimination",
  "thermometer",
  "circulation",
  "battlefield",
  "orientation",
  "exclamation",
  "acupuncture",
  "telepathist",
  "anticipated",
  "circulatory",
  "hyphenation",
  "punctuation",
  "catastrophe",
  "einsteinium",
  "cytokinesis",
  "respiratory",
  "catchphrase",
  "improvement",
  "altercation",
  "contraction",
  "Oktoberfest",
  "acclamation",
  "composition",
  "mischievous",
  "cholesterol",
  "intolerable",
  "countryside",
  "masterpiece",
  "declaration",
  "identically",
  "brotherhood",
  "abstraction",
  "competition",
  "acknowledge",
  "destruction",
  "opportunity",
  "explanation",
  "compunction",
  "cauliflower",
  "beautifully",
  "adventurous",
  "instruments",
  "babysitting",
  "convocation",
  "subjugation",
  "grandmother",
  "chloroplast",
  "engineering",
  "arrangement",
  "telescoping",
  "adolescence",
  "nightingale",
  "distraction",
  "infestation",
  "Netherlands",
  "arraignment",
  "divulgation",
  "firefighter",
  "bodybuilder",
  "kleptomania",
  "entertainer",
  "concentrate",
  "benediction",
  "cartography",
  "restoration",
  "exploration",
  "executioner",
  "contemplate",
  "appointment",
  "hypothermia",
  "bookkeeping",
  "highlighter",
  "sponsorship",
  "accountable",
  "humiliation",
  "remembrance",
  "antioxidant",
  "christening",
  "dehydration",
  "approaching",
  "expectation",
  "penetration",
  "unfortunate",
  "impressment",
  "antechamber",
  "abbreviated",
  "underground",
  "trepidation",
  "citizenship",
  "backsliding",
  "untouchable",
  "controversy",
  "dissipation",
  "stethoscope",
  "fascinating",
  "equilibrium",
  "unhappiness",
  "suppuration",
  "affectation",
  "necrophilia",
  "challenging",
  "interaction",
  "archaeology",
  "development",
  "sublimation",
  "convertible",
  "incantation",
  "unbreakable",
  "quarterback",
  "magnanimous",
  "enlightened",
  "constipated",
  "consumerism",
  "instruction",
  "Sagittarius",
  "telekinesis",
  "defenseless",
  "absenteeism",
  "thoughtless",
  "contentment",
  "premonition",
  "beneficiary",
  "corporation",
  "superficial",
  "combination",
  "bureaucracy",
  "indigestion",
  "recognition",
  "pandemonium",
  "acrimonious",
  "collaborate",
  "heartbroken",
  "foolishness",
  "Alexandrine",
  "unrelatable",
  "conjugation",
  "ventilation",
];

const allowedGuesses = [...answers];

export const allWords = [...answers, ...allowedGuesses];
